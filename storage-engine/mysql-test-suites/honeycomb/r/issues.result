DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 't1'
CREATE TABLE t1 (c INT);
INSERT INTO t1 VALUES (0), (1), (2), (3);
SELECT * FROM t1 ORDER BY c;
c
0
1
2
3
DELETE FROM t1 WHERE c < 1 ORDER BY c;
SELECT * FROM t1;
c
1
2
3
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c INT, INDEX(c));
INSERT INTO t1 VALUES (0), (1), (2), (3);
DELETE FROM t1 WHERE c < 2;
SELECT * FROM t1;
c
2
3
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c INT UNSIGNED, INDEX(c));
INSERT INTO t1 VALUES (2147483647);
INSERT INTO t1 VALUES (2147483648);
SELECT * FROM t1 WHERE c = 2147483647;
c
2147483647
SELECT * FROM t1 WHERE c = 2147483648;
c
2147483648
SELECT * FROM t1;
c
2147483647
2147483648
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c TINYINT, INDEX(c));
INSERT INTO t1 VALUES (1), (2), (64);
SELECT * FROM t1;
c
1
2
64
SELECT * FROM t1 WHERE c > 0;
c
1
2
64
SELECT * FROM t1 WHERE c = 1;
c
1
SELECT * FROM t1 WHERE c <= 64;
c
1
2
64
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
INSERT INTO t1 VALUES (1), (2), (3);
SELECT * FROM t1;
c1
1
2
3
DELETE FROM t1;
SELECT * FROM t1;
c1
DELETE FROM t1;
SELECT * FROM t1;
c1
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
REPLACE t1 VALUES (42);
SELECT * FROM t1;
c1
42
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 DECIMAL(5,4));
INSERT INTO t1 (c1) VALUES(9.42);
SELECT * FROM t1;
c1
9.4200
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, unique(c1, c2));
INSERT INTO t1 VALUES (1, 1), (1, 1);
ERROR 23000: Duplicate entry '1-1' for key 'c1'
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 TIME, INDEX(c1));
INSERT INTO t1 VALUES ('-3:15:00');
SELECT * FROM t1;
c1
-03:15:00
SELECT c1 FROM t1 WHERE c1='-3:15:00';
c1
-03:15:00
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1, 2);
INSERT INTO t1 VALUES (1, 3);
ERROR 23000: Duplicate entry '1' for key 'c1'
SELECT * FROM t1;
c1	c2
1	2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 LONGTEXT);
INSERT INTO t1 VALUES ("foobar!");
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
DELETE t1 FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;
c1
DELETE FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;
c1
DROP TABLE IF EXISTS t1, t2;
Warnings:
Note	1051	Unknown table 't2'
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
CREATE TABLE t2 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (2);
DELETE t1,t2 FROM t1,t2 WHERE t1.c1=1 AND t2.c1=2;
SELECT COUNT(*) FROM t1;
COUNT(*)
0
SELECT COUNT(*) FROM t2;
COUNT(*)
0
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1,1),(2,2),(3,3);
SELECT * FROM t1 WHERE c1=4 OR c2=5;
c1	c2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT PRIMARY KEY);
INSERT INTO t1 (c1) VALUES(1);
INSERT INTO t1 (c1) VALUES(1) ON DUPLICATE KEY UPDATE c1=2;
SELECT * FROM t1;
c1
2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE(c1));
INSERT INTO t1 (c1,c2) VALUES(10,10);
INSERT INTO t1 (c1,c2) VALUES(10,11) ON DUPLICATE KEY UPDATE c2=12;
SELECT * FROM t1;
c1	c2
10	12
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT);
TRUNCATE t1 ;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
CREATE TRIGGER tr1 BEFORE INSERT ON t1
FOR EACH ROW SET NEW.c1 = 99;
INSERT INTO t1 VALUES(1);
DROP TRIGGER tr1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
CREATE FUNCTION sf1() RETURNS INT
BEGIN
INSERT INTO t1 VALUES (1), (2), (3);
RETURN 0;
END//
SELECT sf1();
sf1()
0
DROP FUNCTION sf1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, UNIQUE INDEX(c1));
INSERT INTO t1 VALUES (1), (2);
UPDATE t1 SET c1=2 WHERE c1=1;
ERROR 23000: Duplicate entry '2' for key 'c1'
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT PRIMARY KEY);
INSERT INTO t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
COUNT(c1)
1
REPLACE t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
COUNT(c1)
1
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT UNIQUE);
INSERT INTO t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
COUNT(c1)
1
REPLACE t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
COUNT(c1)
1
DROP TABLE IF EXISTS t1, t2;
DROP TRIGGER IF EXISTS tr1;
Warnings:
Note	1360	Trigger does not exist
CREATE TABLE t1 (c1 INT UNIQUE);
CREATE TABLE t2 (c1 INT);
INSERT INTO t1 VALUES (1);
CREATE TRIGGER tr1 BEFORE DELETE ON t1 FOR EACH ROW BEGIN
INSERT INTO t2 VALUES (99);
END//
REPLACE INTO t1 VALUES (1);
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT UNIQUE, c2 INT);
INSERT INTO t1 VALUES (1, 0);
UPDATE t1 SET c1 = 2;
UPDATE t1 SET c2 = 2;
SELECT * FROM t1;
c1	c2
2	2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 BIGINT PRIMARY KEY AUTO_INCREMENT, c2 INT);
INSERT INTO t1 VALUES (9223372036854775807, 1);
INSERT INTO t1(c2) VALUES (2);
ERROR 23000: Duplicate entry '9223372036854775807' for key 'PRIMARY'
SELECT * FROM t1;
c1	c2
9223372036854775807	1
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE (c1), UNIQUE(c2));
INSERT INTO t1 VALUES (1, 1);
SELECT * FROM t1 WHERE c1 <> 2;
c1	c2
1	1
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 TIME, INDEX(c1));
INSERT INTO t1 VALUES ('100:00:00'), ('11:00:00');
SELECT * FROM t1 ORDER BY c1;
c1
11:00:00
100:00:00
DELETE FROM t1 ORDER BY c1 LIMIT 1;
SELECT * FROM t1;
c1
100:00:00
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 YEAR, UNIQUE INDEX (c1));
INSERT INTO t1 VALUES(0000);
SELECT * FROM t1 WHERE c1=0000;
c1
0000
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 BIGINT UNSIGNED);
INSERT INTO t1 VALUES (18446744073709551614);
INSERT INTO t1 VALUES (18446744073709551615);
INSERT INTO t1 VALUES (9223372036854775807);
INSERT INTO t1 VALUES (9223372036854775808);
SELECT * FROM t1;
c1
18446744073709551614
18446744073709551615
9223372036854775807
9223372036854775808
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE(c1));
INSERT INTO t1 VALUES(NULL, 1);
UPDATE t1 SET c2=2 WHERE c1 IS NULL;
SELECT * FROM t1;
c1	c2
NULL	2
SELECT * FROM t1 WHERE c1 IS NULL;
c1	c2
NULL	2
DROP TABLE IF EXISTS t1,t2;
DROP TRIGGER IF EXISTS tr1;
Warnings:
Note	1360	Trigger does not exist
CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE(c1));
CREATE TABLE t2 (c1 INT);
INSERT INTO t1 VALUES(1, 1);
INSERT INTO t2 VALUES(1);
CREATE TRIGGER tr1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN
UPDATE t2 SET c1 = 99;
END//
REPLACE INTO t1(c1,c2) VALUES(1,2);
DROP TABLE IF EXISTS users, posts, posts_users;
Warnings:
Note	1051	Unknown table 'users'
Note	1051	Unknown table 'posts'
Note	1051	Unknown table 'posts_users'
CREATE TABLE users (
id int,
PRIMARY KEY (id));
CREATE TABLE posts (
id int);
CREATE TABLE posts_users (
id int,
user_id int,
post_id int);
INSERT INTO posts values (1);
SELECT posts.*
FROM posts LEFT OUTER JOIN posts_users ON posts_users.post_id = posts.id
LEFT OUTER JOIN users ON users.id = posts_users.user_id;
id
1
DROP TABLE IF EXISTS users, posts, posts_users;
DROP TABLE IF EXISTS t1, t2;
